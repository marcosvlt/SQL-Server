# Admin routines.

### Restore a database

```SQL
USE [master]
RESTORE DATABASE [DATABASE_NAME] FROM  DISK = N'/path/file.bak' WITH  FILE = 1, NORECOVERY,  NOUNLOAD,  REPLACE,  STATS = 5
GO
```

### Truncate a table

```SQL
USE[DATABASE_NAME]
TRUNCATE TABLE tablename
```

### Undo recover status

```SQL
USE [master]
GO
ALTER DATABASE [DATABASE_NAME] SET RECOVERY SIMPLE WITH NO_WAIT
GO
```
### Shirink database

```SQL
USE [DATABASE_NAME]
GO
DBCC SHRINKDATABASE(N'DATABASE_NAME' )
GO
```

### DROP A USER FROM A DATABASE
```SQL
USE [DATABASE_NAME]
GO
DROP USER [username]
GO
```

### Configure permissions 
```SQL
USE [DATABASE_NAME]
GO
CREATE USER [username] FOR LOGIN [usernameloginsql] WITH DEFAULT_SCHEMA=[dbo]
GO
USE [DATABASE_NAME]
GO
ALTER ROLE [db_datareader] ADD MEMBER [username]
GO
USE [DATABASE_NAME]
GO
ALTER ROLE [db_datawriter] ADD MEMBER [username]
GO
USE [DATABASE_NAME]
GO
ALTER ROLE [db_owner] ADD MEMBER [username]
GO
```

### Create a Login user assign to a database and configure permissions
```SQL
USE [DATABASE_NAME]
GO
CREATE LOGIN [LOGIN_NAME]
WITH PASSWORD = '********',
DEFAULT_DATABASE = DATABASE_NAME;
GO
CREATE USER [LOGIN_NAME] FOR LOGIN [LOGIN_NAME] WITH DEFAULT_SCHEMA=[dbo]
GO
USE [DATABASE_NAME]
GO
ALTER ROLE [db_datareader] ADD MEMBER [LOGIN_NAME]
GO
USE [DATABASE_NAME]
GO
ALTER ROLE [db_datawriter] ADD MEMBER [LOGIN_NAME]
GO
USE [DATABASE_NAME]
GO
ALTER ROLE [db_owner] ADD MEMBER [LOGIN_NAME]
GO
```

### Set online
```SQL
USE [master]
GO 
ALTER DATABASE [DATABASE_NAME] SET ONLINE
GO
```

### Multi-user
```SQL
USE [master]
GO
ALTER DATABASE [DATABASE_NAME]
SET MULTI_USER;
GO
```
